<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" targetNamespace="http://lmnl-markup.org/ns/xLMNL" xmlns:x="http://lmnl-markup.org/ns/xLMNL">

  <!--
   
   XSD for xLMNL (standoff serialization of xLMNL model)   
   Wendell Piez, March 2012
   
   Generated from file:/C:/Users/Wendell/Projects/LMNL/2012-demo/debug/xLMNL-schema-20120325.rnc
   using Trang, then emended by removing @required='yes' from declarations of @sl, @so, @el and @eo
   in attributeGroup[@name='debug-support'], and using this group instead of literal
   declarations in complexTypes 'document-model' and 'range'.
   
   Also introduced whitespace. -->
  
  <xs:element name="root">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="x:comment"/>
        <xs:element ref="x:document"/>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="x:comment"/>
      </xs:sequence>
      <xs:attribute name="base-uri" type="xs:anyURI"/>
    </xs:complexType>
  </xs:element>
  
  <xs:element name="document" type="x:document-model"/>
  
  <xs:complexType name="document-model">
    <xs:sequence>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element ref="x:annotation"/>
        <xs:element ref="x:comment"/>
      </xs:choice>
      <xs:sequence minOccurs="0">
        <xs:element ref="x:content"/>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="x:range"/>
        <xs:choice minOccurs="0" maxOccurs="unbounded">
          <xs:element ref="x:annotation"/>
          <xs:element ref="x:comment"/>
        </xs:choice>
      </xs:sequence>
    </xs:sequence>
    <xs:attribute name="base-uri" type="xs:anyURI"/>
    <xs:attribute name="ID" use="required" type="xs:ID"/>
    <xs:attribute name="name" type="xs:QName"/>
    <xs:attributeGroup ref="x:debug-support"/>
  </xs:complexType>
  
  <xs:element name="annotation" type="x:document-model"/>
  
  <xs:element name="content">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="x:span"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
  
  <xs:element name="span">
    <xs:complexType mixed="true">
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element ref="x:atom"/>
        <xs:element ref="x:comment"/>
      </xs:choice>
      <xs:attribute name="layer" use="required" type="xs:IDREF"/>
      <xs:attribute name="ranges" type="xs:NMTOKENS"/>
      <xs:attribute name="start" use="required" type="xs:integer"/>
      <xs:attribute name="end" use="required" type="xs:integer"/>
    </xs:complexType>
  </xs:element>
  
  <xs:element name="range">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element ref="x:annotation"/>
        <xs:element ref="x:comment"/>
      </xs:choice>
      <xs:attribute name="ID" use="required" type="xs:ID"/>
      <xs:attribute name="name" type="xs:NCName"/>
      <xs:attribute name="start" use="required" type="xs:integer"/>
      <xs:attribute name="end" use="required" type="xs:integer"/>
      <xs:attributeGroup ref="x:debug-support"/>
    </xs:complexType>
  </xs:element>
  
  <xs:element name="atom">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="x:annotation"/>
      </xs:sequence>
      <xs:attribute name="name" use="required" type="xs:NCName"/>
      <xs:attributeGroup ref="x:debug-support"/>
    </xs:complexType>
  </xs:element>
  
  <xs:element name="comment">
    <xs:complexType mixed="true">
      <xs:attribute name="sl" type="xs:integer"/>
      <xs:attribute name="so" type="xs:integer"/>
      <xs:attribute name="el" type="xs:integer"/>
      <xs:attribute name="eo" type="xs:integer"/>
    </xs:complexType>
  </xs:element>
  
  <xs:attributeGroup name="debug-support">
    <xs:attribute name="sl" use="required" type="xs:integer"/>
    <xs:attribute name="so" use="required" type="xs:integer"/>
    <xs:attribute name="el" use="required" type="xs:integer"/>
    <xs:attribute name="eo" use="required" type="xs:integer"/>
  </xs:attributeGroup>
</xs:schema>
